{"version":3,"sources":["webpack:///./src/components/admin/TubeManage.vue?2da7","webpack:///./src/components/admin/TubeManage.vue?c4af","webpack:///src/components/admin/TubeManage.vue","webpack:///./src/components/admin/TubeManage.vue?14d3","webpack:///./src/components/admin/TubeManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","model","value","result","callback","$$v","$set","expression","key","on","setTube","jobid","_l","item","index","name","id","setJobTube","onGroupChange","query","username","pickerOptions","times","getData","ref","tableData","scopedSlots","_u","fn","scope","row","status","_e","currentPage","total","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-34a7cc24.04b2f4d2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TubeManage.vue?vue&type=style&index=0&id=5549444f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-s-data\"}),_vm._v(\" 试管管理 \")])],1)],1),_c('div',{staticClass:\"container\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"试管状态\"},model:{value:(_vm.result.status),callback:function ($$v) {_vm.$set(_vm.result, \"status\", $$v)},expression:\"result.status\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"阴性\",\"value\":\"1\"}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"阳性\",\"value\":\"2\"}})],1),_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"试管条码\"},model:{value:(_vm.result.tubeid),callback:function ($$v) {_vm.$set(_vm.result, \"tubeid\", $$v)},expression:\"result.tubeid\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-position\"},on:{\"click\":_vm.setTube}},[_vm._v(\"发布结果\")]),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"批量发布\")]),_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"选择任务\"},model:{value:(_vm.jobid),callback:function ($$v) {_vm.jobid=$$v},expression:\"jobid\"}},_vm._l((_vm.jobs2),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-position\"},on:{\"click\":_vm.setJobTube}},[_vm._v(\"批量发布\")]),_c('span',[_vm._v(\"(将该任务下的所有未发布结果的试管设置为阴性,仅可选择状态为'已完成'的采集任务)\")])],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"采集单位\"},on:{\"change\":_vm.onGroupChange},model:{value:(_vm.query.groupid),callback:function ($$v) {_vm.$set(_vm.query, \"groupid\", $$v)},expression:\"query.groupid\"}},_vm._l((_vm.groups),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.username,\"value\":item.id}})}),1),_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"采集任务\"},model:{value:(_vm.query.jobid),callback:function ($$v) {_vm.$set(_vm.query, \"jobid\", $$v)},expression:\"query.jobid\"}},_vm._l((_vm.jobs),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1),[_c('el-date-picker',{staticClass:\"mr10\",attrs:{\"type\":\"datetimerange\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"至\",\"start-placeholder\":\"采集时间\",\"end-placeholder\":\"采集时间\",\"align\":\"right\"},model:{value:(_vm.times),callback:function ($$v) {_vm.times=$$v},expression:\"times\"}})],_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"试管状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{key:\"0\",attrs:{\"label\":\"已采集\",\"value\":\"0\"}}),_c('el-option',{key:\"1\",attrs:{\"label\":\"阴性\",\"value\":\"1\"}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"阳性\",\"value\":\"2\"}})],1),_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"试管条码\"},model:{value:(_vm.query.tubeid),callback:function ($$v) {_vm.$set(_vm.query, \"tubeid\", $$v)},expression:\"query.tubeid\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getData}},[_vm._v(\"搜索\")])],2),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"group\",\"label\":\"采集单位\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"operator\",\"label\":\"采集人\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"jobname\",\"label\":\"采集任务\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"tubeId\",\"label\":\"试管条码\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"starttime\",\"label\":\"采集时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"endtime\",\"label\":\"检测时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"试管状态\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===0)?_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(\"已采集\")]):(scope.row.status===1)?_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"success\"}},[_vm._v(\"阴性\")]):(scope.row.status===2)?_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"danger\"}},[_vm._v(\"阳性\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[20, 30, 50, 100],\"page-size\":20,\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-s-data\"></i> 试管管理\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n      <div class=\"container\" style=\"margin-bottom: 10px\">\r\n        <el-select v-model=\"result.status\" clearable placeholder=\"试管状态\" class=\"handle-select mr10\">\r\n          <el-option key=\"1\" label=\"阴性\" value=\"1\"></el-option>\r\n          <el-option key=\"2\" label=\"阳性\" value=\"2\"></el-option>\r\n        </el-select>\r\n        <el-input v-model=\"result.tubeid\" placeholder=\"试管条码\" class=\"handle-input mr10\"></el-input>\r\n        <el-button type=\"primary\" icon=\"el-icon-position\" @click=\"setTube\">发布结果</el-button>\r\n        <el-divider content-position=\"left\">批量发布</el-divider>\r\n        <el-select v-model=\"jobid\" clearable placeholder=\"选择任务\" class=\"handle-select mr10\">\r\n          <el-option v-for=\"(item,index) in jobs2\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n        </el-select><el-button type=\"primary\" icon=\"el-icon-position\" @click=\"setJobTube\">批量发布</el-button>\r\n         <span>(将该任务下的所有未发布结果的试管设置为阴性,仅可选择状态为'已完成'的采集任务)</span>\r\n      </div>\r\n        <div class=\"container\">\r\n          <div class=\"handle-box\">\r\n            <el-select v-model=\"query.groupid\" clearable placeholder=\"采集单位\" @change=\"onGroupChange\" class=\"handle-select mr10\">\r\n              <el-option v-for=\"(item,index) in groups\" :key=\"index\" :label=\"item.username\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"query.jobid\" clearable placeholder=\"采集任务\" class=\"handle-select mr10\">\r\n              <el-option v-for=\"(item,index) in jobs\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            <template>\r\n              <el-date-picker\r\n                  class=\"mr10\"\r\n                  v-model=\"times\"\r\n                  type=\"datetimerange\"\r\n                  :picker-options=\"pickerOptions\"\r\n                  range-separator=\"至\"\r\n                  start-placeholder=\"采集时间\"\r\n                  end-placeholder=\"采集时间\"\r\n                  align=\"right\">\r\n              </el-date-picker>\r\n            </template>\r\n            <el-select v-model=\"query.status\" clearable placeholder=\"试管状态\" class=\"handle-select mr10\">\r\n              <el-option key=\"0\" label=\"已采集\" value=\"0\"></el-option>\r\n              <el-option key=\"1\" label=\"阴性\" value=\"1\"></el-option>\r\n              <el-option key=\"2\" label=\"阳性\" value=\"2\"></el-option>\r\n            </el-select>\r\n            <el-input v-model=\"query.tubeid\" placeholder=\"试管条码\" class=\"handle-input mr10\"></el-input>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getData\">搜索</el-button>\r\n          </div>\r\n            <el-table\r\n                :data=\"tableData\"\r\n                border\r\n                class=\"table\"\r\n                ref=\"multipleTable\"\r\n                header-cell-class-name=\"table-header\"\r\n            >\r\n              <el-table-column prop=\"group\" label=\"采集单位\"  align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"operator\" label=\"采集人\" width=\"100\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"jobname\" label=\"采集任务\"  align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"tubeId\" label=\"试管条码\"  align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"starttime\" label=\"采集时间\"  align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"endtime\" label=\"检测时间\"  align=\"center\"></el-table-column>\r\n              <el-table-column label=\"试管状态\" width=\"80\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tag size=\"medium\" v-if='scope.row.status===0'>已采集</el-tag>\r\n                  <el-tag size=\"medium\" v-else-if='scope.row.status===1' type=\"success\">阴性</el-tag>\r\n                  <el-tag size=\"medium\" v-else-if='scope.row.status===2' type=\"danger\">阳性</el-tag>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination\">\r\n                <el-pagination\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[20, 30, 50, 100]\"\r\n                    :page-size=\"20\"\r\n                    background\r\n                    layout=\"total, sizes, prev, pager, next\"\r\n                    :total=\"total\"\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                ></el-pagination>\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'tubeManage',\r\n    data() {\r\n        return {\r\n          pickerOptions: {\r\n            shortcuts: [{\r\n              text: '最近一周',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }, {\r\n              text: '最近一个月',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }, {\r\n              text: '最近三个月',\r\n              onClick(picker) {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                picker.$emit('pick', [start, end]);\r\n              }\r\n            }]\r\n          },\r\n          result:{\r\n            status: null,\r\n            tubeid: null\r\n          },\r\n            query: {\r\n              groupid: null,\r\n              jobid: null,\r\n              operatorid: null,\r\n              status: null,\r\n              idcardnum: null,\r\n              tubeid: null,\r\n            },\r\n          tableData: [],\r\n          pageSize: 20,\r\n          currentPage:1,\r\n          total:50,\r\n          times:[],\r\n          groups:null,\r\n          jobs:null,\r\n          jobs2:null,\r\n          jobid:null\r\n        };\r\n    },\r\n    created() {\r\n      this.getData()\r\n      this.getGroupData()\r\n      this.getJobData()\r\n      this.getJobData2()\r\n   //\r\n    },\r\n    methods: {\r\n      setJobTube(){\r\n        if (this.jobid===null||this.jobid===''){\r\n          this.$message.error('请选择任务');\r\n          return;\r\n        }\r\n        this.axios.post(\r\n            '/admin/setJobTubeStatus',this.qs.stringify({\r\n                  jobid: this.jobid\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.$message.success(response.data.msg);\r\n            this.getData()\r\n          }else {\r\n            this.$message.error(response.data.msg);\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      setTube(){\r\n        if (this.result.status===null||this.result.status===''){\r\n          this.$message.error('请选择试管状态');\r\n          return;\r\n        }\r\n        if (this.result.tubeid===null||this.result.tubeid===''){\r\n          this.$message.error('请输入试管条码');\r\n          return;\r\n        }\r\n        this.axios.post(\r\n            '/admin/setTubeStatus',this.qs.stringify({\r\n                  tubeid: this.result.tubeid,\r\n                  status:this.result.status\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.$message.success(response.data.msg);\r\n            this.getData()\r\n\r\n          }else {\r\n          this.$message.error(response.data.msg);\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      getJobData(){\r\n        this.axios.post(\r\n            '/admin/getJob',this.qs.stringify({\r\n                  groupid: this.query.groupid\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.jobs=response.data.data\r\n          }else {\r\n//\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      getJobData2(){\r\n        this.axios.post(\r\n            '/admin/getJob',this.qs.stringify({\r\n                  groupid: this.query.groupid,\r\n                  status:1\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.jobs2=response.data.data\r\n          }else {\r\n//\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      onGroupChange(){\r\n        this.query.jobid=null\r\n        if (this.query.groupid===''){\r\n          this.query.groupid=null\r\n        }\r\n        console.log(this.query.groupid)\r\n        this.getJobData()\r\n      },\r\n      getGroupData(){\r\n        this.axios.post(\r\n            '/admin/getGroup'\r\n        ).then((response) =>{\r\n          if (response.data.flag){\r\n            this.groups=response.data.data\r\n          }else {\r\n//\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      getData(){\r\n        this.axios.post(\r\n            '/admin/getTube',this.qs.stringify({\r\n                  groupid: this.query.groupid,\r\n                  jobid: this.query.jobid,\r\n                  operatorid: this.query.operatorid,\r\n                  status: this.query.status,\r\n                  tubeid:this.query.tubeid,\r\n                  time1:this.times[0],\r\n                  time2:this.times[1],\r\n                  pageNum:this.currentPage,\r\n                  pageSize:this.pageSize\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.tableData=response.data.data.list;\r\n            this.total=response.data.data.total;\r\n          }else {\r\n            this.tableData=response.data.data;\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n\r\n        // 分页导航\r\n        handleSizeChange(val) {\r\n            this.pageSize =val;\r\n          this.getData()\r\n\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n          this.getData()\r\n\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.handle-select {\r\n    width: 180px;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n.table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TubeManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TubeManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TubeManage.vue?vue&type=template&id=5549444f&scoped=true&\"\nimport script from \"./TubeManage.vue?vue&type=script&lang=js&\"\nexport * from \"./TubeManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TubeManage.vue?vue&type=style&index=0&id=5549444f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5549444f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}