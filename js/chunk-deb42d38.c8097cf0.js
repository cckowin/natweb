(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-deb42d38"],{"6f08":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-s-order"}),e._v(" 检测结果 ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"采集单位"},on:{change:e.onGroupChange},model:{value:e.query.groupid,callback:function(t){e.$set(e.query,"groupid",t)},expression:"query.groupid"}},e._l(e.groups,(function(e,t){return a("el-option",{key:t,attrs:{label:e.username,value:e.id}})})),1),a("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"采集任务"},model:{value:e.query.jobid,callback:function(t){e.$set(e.query,"jobid",t)},expression:"query.jobid"}},e._l(e.jobs,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1),[a("el-date-picker",{staticClass:"mr10",attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"采集时间","end-placeholder":"采集时间",align:"right"},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],a("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"试管状态"},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[a("el-option",{key:"0",attrs:{label:"已采集",value:"0"}}),a("el-option",{key:"1",attrs:{label:"阴性",value:"1"}}),a("el-option",{key:"2",attrs:{label:"阳性",value:"2"}})],1),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"身份证号"},model:{value:e.query.idcardnum,callback:function(t){e.$set(e.query,"idcardnum",t)},expression:"query.idcardnum"}}),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"试管条码"},model:{value:e.query.tubeid,callback:function(t){e.$set(e.query,"tubeid",t)},expression:"query.tubeid"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getData}},[e._v("搜索")])],2),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"group",label:"采集单位",align:"center"}}),a("el-table-column",{attrs:{prop:"operator",label:"采集人",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"jobname",label:"采集任务",align:"center"}}),a("el-table-column",{attrs:{prop:"tname",label:"人员姓名",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"性别",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.sex?a("el-tag",{attrs:{size:"medium"}},[e._v("男")]):2===t.row.sex?a("el-tag",{attrs:{size:"medium"}},[e._v("女")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"idcardnum",label:"身份证号",align:"center"}}),a("el-table-column",{attrs:{prop:"phonenum",label:"联系电话",align:"center"}}),a("el-table-column",{attrs:{label:"详细地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.area+"/"+t.row.address)+" ")]}}])}),a("el-table-column",{attrs:{prop:"tubeId",label:"试管条码",align:"center"}}),a("el-table-column",{attrs:{prop:"starttime",label:"采集时间",align:"center"}}),a("el-table-column",{attrs:{label:"试管状态",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",{attrs:{size:"medium"}},[e._v("已采集")]):1===t.row.status?a("el-tag",{attrs:{size:"medium",type:"success"}},[e._v("阴性")]):2===t.row.status?a("el-tag",{attrs:{size:"medium",type:"danger"}},[e._v("阳性")]):e._e()]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,20,30,50,100],"page-size":20,background:"",layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},i=[],n={name:"resulttable",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},query:{groupid:null,jobid:null,operatorid:null,status:null,idcardnum:null,tubeid:null},tableData:[],pageSize:20,currentPage:1,total:50,times:[],groups:null,jobs:null}},created:function(){this.getData(),this.getGroupData(),this.getJobData()},methods:{getJobData:function(){var e=this;this.axios.post("/admin/getJob",this.qs.stringify({groupid:this.query.groupid})).then((function(t){t.data.flag&&(e.jobs=t.data.data)})).catch((function(e){console.log(e)}))},onGroupChange:function(){this.query.jobid=null,""===this.query.groupid&&(this.query.groupid=null,console.log("6666666")),console.log(this.query.groupid),this.getJobData()},getGroupData:function(){var e=this;this.axios.post("/admin/getGroup").then((function(t){t.data.flag&&(e.groups=t.data.data)})).catch((function(e){console.log(e)}))},getData:function(){var e=this;this.axios.post("/admin/getResult",this.qs.stringify({groupid:this.query.groupid,jobid:this.query.jobid,operatorid:this.query.operatorid,status:this.query.status,idcardnum:this.query.idcardnum,tubeid:this.query.tubeid,time1:this.times[0],time2:this.times[1],pageNum:this.currentPage,pageSize:this.pageSize})).then((function(t){t.data.flag?(e.tableData=t.data.data.list,e.total=t.data.data.total):e.tableData=t.data.data})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()}}},r=n,s=(a("9465"),a("2877")),o=Object(s["a"])(r,l,i,!1,null,"794bc56d",null);t["default"]=o.exports},9465:function(e,t,a){"use strict";a("bbe2")},bbe2:function(e,t,a){}}]);
//# sourceMappingURL=chunk-deb42d38.c8097cf0.js.map