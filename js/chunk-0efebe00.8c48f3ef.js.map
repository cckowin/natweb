{"version":3,"sources":["webpack:///./src/components/admin/SystemUser.vue?e062","webpack:///./src/components/admin/SystemUser.vue?312b","webpack:///src/components/admin/SystemUser.vue","webpack:///./src/components/admin/SystemUser.vue?f897","webpack:///./src/components/admin/SystemUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","addUser","groupdisable","model","value","query","callback","$$v","$set","expression","_l","item","index","key","username","id","onRoleChange","getData","ref","tableData","scopedSlots","_u","fn","scope","row","role","_e","$event","handleEdit","handleDelete","currentPage","total","handleSizeChange","handleCurrentChange","dialogTitle","editVisible","form","selectDisable1","roleChange","selectDisable2","dialogPassword","slot","cancel","saveEdit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-0efebe00.8c48f3ef.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemUser.vue?vue&type=style&index=0&id=6aa55366&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-user-solid\"}),_vm._v(\" 系统用户 \")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-button',{staticClass:\"mr10\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加用户\")]),_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"disabled\":_vm.groupdisable,\"clearable\":\"\",\"placeholder\":\"所属单位\"},model:{value:(_vm.query.groupid),callback:function ($$v) {_vm.$set(_vm.query, \"groupid\", $$v)},expression:\"query.groupid\"}},_vm._l((_vm.groups),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.username,\"value\":item.id}})}),1),_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"clearable\":\"\",\"placeholder\":\"用户类型\"},on:{\"change\":_vm.onRoleChange},model:{value:(_vm.query.role),callback:function ($$v) {_vm.$set(_vm.query, \"role\", $$v)},expression:\"query.role\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"单位账号\",\"value\":\"1\"}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"采集人员\",\"value\":\"2\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getData}},[_vm._v(\"搜索\")])],1),_c('el-table',{ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"用户编号\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"label\":\"用户类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.role===0)?_c('span',[_vm._v(\"超级管理员\")]):_vm._e(),(scope.row.role===1)?_c('span',[_vm._v(\"单位账号\")]):_vm._e(),(scope.row.role===2)?_c('span',[_vm._v(\"采集人员\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"lastlogintime\",\"label\":\"最后登录时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"group\",\"label\":\"所属单位\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.role!==0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),(scope.row.role!==0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[20, 30, 50, 100],\"page-size\":20,\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.editVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户编号\"}},[_c('el-input',{attrs:{\"readonly\":\"\",\"placeholder\":\"无需填写\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户类型\"}},[_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"disabled\":_vm.selectDisable1,\"placeholder\":\"用户类型\"},on:{\"change\":_vm.roleChange},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}},[_c('el-option',{key:\"2\",attrs:{\"label\":\"单位账号\",\"value\":1}}),_c('el-option',{key:\"3\",attrs:{\"label\":\"采集人员\",\"value\":2}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"所属单位\"}},[_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"disabled\":_vm.selectDisable2,\"placeholder\":\"所属单位\"},model:{value:(_vm.form.groupid),callback:function ($$v) {_vm.$set(_vm.form, \"groupid\", $$v)},expression:\"form.groupid\"}},_vm._l((_vm.groups),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.username,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.dialogPassword},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEdit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-user-solid\"></i> 系统用户\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n          <div class=\"handle-box\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addUser\" class=\"mr10\">添加用户</el-button>\r\n            <el-select v-model=\"query.groupid\" :disabled=\"groupdisable\" clearable placeholder=\"所属单位\"  class=\"handle-select mr10\">\r\n              <el-option v-for=\"(item,index) in groups\" :key=\"index\" :label=\"item.username\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"query.role\" clearable placeholder=\"用户类型\" @change=\"onRoleChange\" class=\"handle-select mr10\">\r\n              <el-option key=\"1\" label=\"单位账号\" value=\"1\"></el-option>\r\n              <el-option key=\"2\" label=\"采集人员\" value=\"2\"></el-option>\r\n            </el-select>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getData\">搜索</el-button>\r\n          </div>\r\n          <el-table\r\n              :data=\"tableData\"\r\n              border\r\n              class=\"table\"\r\n              ref=\"multipleTable\"\r\n              header-cell-class-name=\"table-header\"\r\n          >\r\n            <el-table-column prop=\"id\" label=\"用户编号\" width=\"55\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"username\" label='用户名'></el-table-column>\r\n            <el-table-column label=\"用户类型\">\r\n              <template slot-scope=\"scope\">\r\n                <span v-if='scope.row.role===0'>超级管理员</span>\r\n                <span v-if='scope.row.role===1'>单位账号</span>\r\n                <span v-if='scope.row.role===2'>采集人员</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"lastlogintime\" label='最后登录时间'></el-table-column>\r\n            <el-table-column prop=\"group\" label='所属单位'></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n              <template  slot-scope=\"scope\">\r\n                <el-button\r\n                    size=\"small\"\r\n                    v-if=\"scope.row.role!==0\"\r\n                    type=\"primary\"\r\n                    icon=\"el-icon-edit\"\r\n                    @click=\"handleEdit(scope.row)\"\r\n                >编辑</el-button>\r\n                <el-button\r\n                    size=\"small\"\r\n\r\n                    v-if=\"scope.row.role!==0\"\r\n                    type=\"danger\"\r\n                    icon=\"el-icon-delete\"\r\n                    @click=\"handleDelete(scope.row)\"\r\n                >删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"pagination\">\r\n            <el-pagination\r\n                :current-page=\"currentPage\"\r\n                :page-sizes=\"[20, 30, 50, 100]\"\r\n                :page-size=\"20\"\r\n                background\r\n                layout=\"total, sizes, prev, pager, next\"\r\n                :total=\"total\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n            ></el-pagination>\r\n          </div>\r\n        </div>\r\n      <!-- 编辑弹出框 -->\r\n      <el-dialog :title=\"dialogTitle\" :visible.sync=\"editVisible\" width=\"30%\">\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n          <el-form-item label=\"用户编号\">\r\n            <el-input readonly v-model=\"form.id\" placeholder=\"无需填写\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户名\" >\r\n            <el-input  v-model=\"form.username\" placeholder=\"请输入用户名\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户类型\">\r\n            <el-select v-model=\"form.role\" :disabled=\"selectDisable1\" @change=\"roleChange\" placeholder=\"用户类型\"  class=\"handle-select mr10\">\r\n              <el-option key=\"2\" label=\"单位账号\" :value=\"1\"></el-option>\r\n              <el-option key=\"3\" label=\"采集人员\" :value=\"2\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属单位\">\r\n            <el-select v-model=\"form.groupid\" :disabled=\"selectDisable2\" placeholder=\"所属单位\"  class=\"handle-select mr10\">\r\n              <el-option v-for=\"(item,index) in groups\" :key=\"index\" :label=\"item.username\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\">\r\n            <el-input v-model=\"form.password\" type=\"password\" :placeholder=\"dialogPassword\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n            </span>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: 'ordertable',\r\n    data() {\r\n        return {\r\n          selectDisable1:false,\r\n          selectDisable2:false,\r\n          editVisible: false,\r\n          form:[],\r\n          dialogTitle:\"编辑\",\r\n          dialogPassword:\"若无需修改密码，请留空\",\r\n            query: {\r\n                groupid:null,\r\n                role:null\r\n            },\r\n          tableData: [],\r\n          pageSize: 20,\r\n          currentPage:1,\r\n          total:50,\r\n          groups:null,\r\n          groupdisable:true,\r\n          user:null\r\n        };\r\n    },\r\n    created() {\r\n   this.getData()\r\n      this.checkLogin()\r\n      this.getGroupData()\r\n    },\r\n    methods: {\r\n      roleChange(){\r\n        if(this.user.role===0){\r\n          if (this.form.role===1){\r\n            this.selectDisable2=true;\r\n            this.form.groupid=null\r\n          }else{\r\n            this.selectDisable2=false\r\n          }\r\n        }\r\n      },\r\n      checkLogin(){\r\n        axios.post(\r\n            '/checklogin'\r\n        ).then((response) =>{\r\n          if (response.data.flag){\r\n            this.user=response.data.data;\r\n          }else {\r\n            //\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      saveEdit() {\r\n        this.axios.post(\r\n            '/admin/addOrUpdateSystemUser',\r\n            this.qs.stringify({\r\n              id: this.form.id,\r\n              username: this.form.username,\r\n              password:this.form.password,\r\n              role:this.form.role,\r\n              groupid:this.form.groupid\r\n            })\r\n        ).then((response) =>{\r\n          this.getData();\r\n          this.getGroupData()\r\n          this.editVisible = false;\r\n\r\n          if (response.data.flag){\r\n            this.$message.success(response.data.msg);\r\n          }else {\r\n            this.$message.error(response.data.msg);\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      addUser(){\r\n        this.form=[];\r\n        if (this.user.role===1){\r\n          this.selectDisable1=true\r\n          this.selectDisable1=true\r\n          this.form.groupid=this.user.id\r\n          this.form.role=2\r\n        }\r\n        else{\r\n          this.selectDisable1=false\r\n          this.selectDisable2=false\r\n\r\n        }\r\n        this.dialogPassword=\"请输入密码\"\r\n        this.dialogTitle=\"添加用户\"\r\n        this.editVisible=true;\r\n\r\n      },\r\n      cancel(){\r\n        this.editVisible=false;\r\n        this.getData()\r\n      },\r\n      handleEdit (row){\r\n          this.selectDisable1=true\r\n          this.selectDisable2=true\r\n        this.dialogPassword=\"若无需修改密码，请留空\"\r\n        this.dialogTitle=\"编辑用户\"\r\n        this.form=row;\r\n        this.form.password=\"\";\r\n        this.editVisible=true;\r\n      },\r\n      handleDelete(row) {\r\n        // 二次确认删除\r\n        this.$confirm('确定要删除吗？', '提示', {\r\n          type: 'warning'\r\n        })\r\n            .then(() => {\r\n              this.axios.post(\r\n                  '/admin/delSystemUser',\r\n                  this.qs.stringify({\r\n                    id: row.id,\r\n                  })\r\n              ).then((response) =>{\r\n                this.getData();\r\n                this.getGroupData()\r\n\r\n                if (response.data.flag){\r\n                  this.$message.success(response.data.msg);\r\n                }else {\r\n                  this.$message.error(response.data.msg);\r\n                }\r\n              })\r\n                  .catch(function (error) {\r\n                    console.log(error);\r\n                  });\r\n            })\r\n            .catch(() => {});\r\n\r\n      },\r\n      onRoleChange(){\r\n        if (this.query.role==2){\r\n          this.groupdisable=false\r\n        }\r\n        else{\r\n          this.groupdisable=true\r\n          this.query.groupid=null\r\n        }\r\n      },\r\n      getGroupData(){\r\n        this.axios.post(\r\n            '/admin/getGroup'\r\n        ).then((response) =>{\r\n          if (response.data.flag){\r\n            this.groups=response.data.data\r\n          }else {\r\n//\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n      getData(){\r\n        this.axios.post(\r\n            '/admin/getAllSystemUser',this.qs.stringify({\r\n                  pageNum:this.currentPage,\r\n                  pageSize:this.pageSize,\r\n                  groupid:this.query.groupid,\r\n                  role:this.query.role\r\n                }\r\n            )).then((response) =>{\r\n          if (response.data.flag){\r\n            this.tableData=response.data.data.list;\r\n            this.total=response.data.data.total;\r\n          }else {\r\n            this.tableData=response.data.data;\r\n          }\r\n        })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n            });\r\n      },\r\n        // 分页导航\r\n        handleSizeChange(val) {\r\n            this.pageSize =val;\r\n          this.getData()\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n          this.getData()\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.handle-select {\r\n    width: 180px;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n.table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SystemUser.vue?vue&type=template&id=6aa55366&scoped=true&\"\nimport script from \"./SystemUser.vue?vue&type=script&lang=js&\"\nexport * from \"./SystemUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SystemUser.vue?vue&type=style&index=0&id=6aa55366&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6aa55366\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}